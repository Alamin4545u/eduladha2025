<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Gigapub Auto Impression + Reward</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body {
        background: #111;
        color: #fff;
        font-family: Arial;
        text-align: center;
        padding-top: 40px;
    }
    button {
        padding: 12px 25px;
        font-size: 16px;
        border: none;
        border-radius: 8px;
        background: #00a8ff;
        color: #fff;
        margin-top: 25px;
    }
    #rewardBox {
        margin-top: 25px;
        padding: 20px;
        background: #222;
        border-radius: 10px;
        display: none;
    }
</style>
</head>

<body>

<h2>Gigapub Auto Impression + Reward Ad</h2>
<h3>Status: <span id="status">Loading...</span></h3>

<button onclick="showRewardAd()">Show Reward Ad</button>

<div id="rewardBox"></div>

<!-- üî• GIGAPUB SCRIPT -->
<script src="https://ad.gigapub.tech/script?id=4413"></script>

<script>

let gigaReady = false;

/* ---------------------------------------
   üöÄ 1. PRELOAD GIGAPUB
----------------------------------------*/
document.addEventListener("DOMContentLoaded", () => {

    document.getElementById("status").innerText = "Preloading Ads...";

    if (window.preloadGiga) {

        window.preloadGiga()
        .then(() => {
            gigaReady = true;
            document.getElementById("status").innerText = "Ready ‚úî";
            console.log("Gigapub Reward Ad Loaded");
        })
        .catch(err => {
            console.log("Preload Error:", err);
            document.getElementById("status").innerText = "Failed to load ‚ùå";
        });
    }

    /* ---------------------------------------
       üöÄ 2. AUTO IMPRESSION (Optional)
    ----------------------------------------*/
    try {
        if (window.showGiga) {
            window.showGiga(); 
            console.log("Auto Impression Fired");
        }
    } catch(e) {
        console.log("Auto impression failed:", e);
    }
});


/* ---------------------------------------
   üöÄ 3. SHOW REWARD AD (FINAL WORKING)
----------------------------------------*/
function showRewardAd() {
    if (!gigaReady) {
        alert("Ad is not loaded yet! Please wait 2‚Äì3 sec.");
        return;
    }

    window.showGiga()
        .then(() => {
            console.log("Reward Ad Completed");
            giveReward();
        })
        .catch(err => {
            console.log("Ad show failed:", err);
            alert("Ad Failed: " + err);
        });
}


/* ---------------------------------------
   üéÅ 4. REWARD FUNCTION
----------------------------------------*/
function giveReward() {
    const box = document.getElementById("rewardBox");
    box.style.display = "block";
    box.innerHTML = `
        <h3>üéâ Reward Added!</h3>
        <p>You earned +50 Coins</p>
    `;
}

</script>

</body>
</html>
